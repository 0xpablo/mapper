matrix:
  include:
    - os: osx
      env: ACTION=lint
    - os: osx
      env: ACTION=iOS
    - os: osx
      env: ACTION=OSX
    - os: osx
      env: ACTION=tvOS
    - os: osx
      env: ACTION=carthage
    - os: osx
      env: ACTION=oss-osx
    - os: linux
      dist: trusty
      sudo: required
      language: generic
      install:
        - curl -sL https://gist.githubusercontent.com/kylef/5c0475ff02b7c7671d2a/raw/b07054552689910f79b3496221f7421a811f9f70/swiftenv-install.sh | bash
      script:
        - . ~/.swiftenv/init
        - make test-linux

language: objective-c
osx_image: xcode7.2

script:
  - make install-$ACTION && make test-$ACTION
